
{% extends "base.html" %}


{% block title %} News Information Extraciton {% endblock title %}

{% block nav_index_r %}
    class=" nav-link active"
{% endblock %}

{% block content %}
<div class="container">
  <div class="row"><!--row-->
    <div class="col-md-6">
      <h2> RSS News </h2>

      {% for heading,story in headingdetail.items %}
      <ul>
        <li>

          {% if story.id is not None %}


          <p id={{ story.id }} class="head">   <a href="#">{{ heading }}:</a> </p>

          {% else %}

          <p id='no' > <a href="#"> {{ heading }}</a> </p>

          {% endif %}


        </li>
      </ul>
      {% endfor %}


    </div>

    <div class="col-md-6">
      <h2> Extracted items </h2>
      <p id='summary'> Click on one of the news </p>




    </div>
  </div><!--row-->



</div>


{% endblock content %}

{% block javascript %}

<script>
$(document).ready(function(){

  function present_summary(){
    var accidentNews ={};

    {% for news in newsstory %}

    {% if news.id is not None %}


    accidentNews[{{news.id}}] = {
    location : "{{ news.location }}",
    death : "{{ news.death }}",
    injury:"{{ news.injury}}",
    vehicle_no:"{{ news.vehicle_no }}",
    date:"{{ news.date }}",
    url:"{{ news.get_absolute_url }}",

    };

    {% else %}

    accidentNews[0] = {};

    {% endif %}

    {% endfor %}



    $('.head').each(function(){
      $(this).click(function(){

        var news = accidentNews[this.id];

        // alert("Hello each " + news.location );
        //$('#summary').replaceWith("<h2 id='summary'>  " +  news.death , news.location  + "</h2>");
        $('#summary').replaceWith("<div id='summary'> <p> Death: " + news.death +  "</p><p>Location: " + news.location +"</p></div>");

    //
    // function summary_info() {
    //
    //   return ( "<p>The Location is: " + news.location +"</p>" );
    // }

  });

  $('#no').click(function () {
    $('#summary').replaceWith("<h2 id='summary'> No Summary Information</h2>");


  })

    });

  }
  present_summary();

});

</script>

{% endblock javascript %}
